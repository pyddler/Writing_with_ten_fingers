-- PostgreSQL

CREATE TABLE public.exercise_group (
    id integer NOT NULL,
    group_abb character varying(4) NOT NULL,
    exercise_type character varying(128) NOT NULL,
    note text NOT NULL,
    exercise_level smallint DEFAULT 20 NOT NULL
);

ALTER TABLE public.exercise_group OWNER TO whoever;

CREATE SEQUENCE public.exercise_group_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;

ALTER TABLE public.exercise_group_id_seq OWNER TO whoever;

ALTER SEQUENCE public.exercise_group_id_seq OWNED BY public.exercise_group.id;

CREATE TABLE public.exercises (
    id integer NOT NULL,
    input_time timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    exercise text NOT NULL,
    exercise_type integer DEFAULT 0 NOT NULL
);

ALTER TABLE public.exercises OWNER TO whoever;

CREATE SEQUENCE public.exercises_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;

ALTER TABLE public.exercises_id_seq OWNER TO whoever;

ALTER SEQUENCE public.exercises_id_seq OWNED BY public.exercises.id;

COPY public.exercise_group (id, group_abb, exercise_type, note, exercise_level) FROM stdin;
0	xxxx	-	Not selected	20
1	s	English sentences	Random english sentences pulled from web.	20
2	ie1	English sentences level 1	English incomplete sentences for bigginers using only keys asdf jkl;	1
3	cp	Python program Beginner	Python program Code Easy	1
\.


ALTER TABLE ONLY public.exercise_group
    ADD CONSTRAINT exercise_group_pkey PRIMARY KEY (id);

ALTER TABLE ONLY public.exercises
    ADD CONSTRAINT exercises_pkey PRIMARY KEY (id);

ALTER TABLE ONLY public.exercise_group
    ADD CONSTRAINT group_type_abb_unique UNIQUE (group_abb);

ALTER TABLE ONLY public.exercises
    ADD CONSTRAINT fk_group_type FOREIGN KEY (exercise_type) REFERENCES public.exercise_group(id);

GRANT SELECT ON TABLE public.exercise_group TO writing_user;

GRANT SELECT ON TABLE public.exercises TO writing_user;
